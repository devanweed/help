<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ffffff">

    <title>Configuring directory sync with Azure Active Directory | Bitwarden Help &amp; Support</title>

    <link rel="stylesheet" crossorigin="anonymous"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0= sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,300italic,400italic,600italic"
          rel="stylesheet" type="text/css">

    <link href="/css/styles.css?v=1586888317"
          rel="stylesheet" type="text/css">

    <link href="/lib/fluidbox/css/fluidbox.min.css?v=1586888317"
          rel="stylesheet" type="text/css">

    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3c8dbc">
    <link rel="manifest" href="/manifest.json">
</head>

<body>
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://bitwarden.com" onclick="gaEvent('Nav Logo')">
                    <i class="fa fa-shield"></i>
                    <span class="visible-xs-inline"><strong>bit</strong>warden</span>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="menu">
                <ul class="nav navbar-nav">
                    <li><a href="/">Help Center</a></li>
                    <li><a href="https://community.bitwarden.com/">Forums</a></li>
                    <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="https://bitwarden.com" onclick="gaEvent('Return')">
                            <i class="fa fa-share fa-flip-horizontal fa-fw"></i> Return to bitwarden.com
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <header>
        <div class="container">
            <form action="/search/" method="get">
                <div class="input-group input-group-lg">
                    <input type="search" class="form-control" placeholder="Search the help center..."
                           id="search-box" name="q">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit" onclick="gaEvent('Search')">
                            <i class="fa fa-search"></i>
                            <span class="sr-only">Search</span>
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </header>

    <content>
        


<div class="container">
    <h1 class="page-header">
        <i class="fa fa-file-text-o"></i>
        Configuring directory sync with Azure Active Directory
    </h1>
    <div class="breadcrumb">
        Category:
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <a href="/organizations/">Organizations</a>
        
        
        
        
        
    </div>
    <div class="panel panel-default article">
        <div class="panel-body">
            <p>This article will cover how to connect the Bitwarden Directory Connector application to your Azure Active Directory.</p>

<h2 id="requirements">Requirements</h2>

<ul>
  <li>Read through the following article: <a href="/article/directory-sync/">Syncing users and groups with a directory</a></li>
  <li>Install Bitwarden Directory Connector</li>
  <li>Using Directory Connector, log into your Bitwarden account and select your enterprise organization</li>
</ul>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#create-a-new-application-registration">Create a New Application Registration</a></li>
  <li><a href="#grant-application-permissions">Grant Application Permissions</a></li>
  <li><a href="#create-application-secret-key">Create Application Secret Key</a></li>
  <li><a href="#get-your-application-id">Get Your Application ID</a></li>
  <li><a href="#get-your-tenant-hostname">Get Your Tenant Hostname</a></li>
  <li><a href="#configure-directory-connector">Configure Directory Connector</a></li>
  <li><a href="#testing">Testing</a></li>
</ul>

<h2 id="create-a-new-application-registration">Create a New Application Registration</h2>

<ol>
  <li>Go to <a href="https://portal.azure.com">https://portal.azure.com</a></li>
  <li>Select the <strong>Azure Active Directory</strong> resource</li>
  <li>Navigate to <strong>App registrations</strong> and select <strong>New registration</strong>
<a href="/images/directory-connector/azure/new-application.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/azure/new-application.png" />
     </a></li>
  <li><strong>Name</strong> your application “Bitwarden”</li>
  <li>Click the <strong>Create</strong> button to create the application.
<a href="/images/directory-connector/azure/create-application.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/azure/create-application.png" />
     </a></li>
</ol>

<h2 id="grant-application-permissions">Grant Application Permissions</h2>

<ol>
  <li>Select the <strong>Bitwarden</strong> application you created in the previous section.</li>
  <li>Select <strong>API Permissions</strong>.</li>
  <li>Select the <strong>Add</strong> button to create a new API permission set.</li>
  <li>For step 1, <strong>Select an API</strong> for <strong>Microsoft Graph</strong>.</li>
  <li>For step 2, <strong>Select Permissions</strong> for the following:
    <ul>
      <li>Application Permissions:
        <ul>
          <li>“Read all users’ full profiles”</li>
          <li>“Read all groups”</li>
        </ul>
      </li>
      <li>Delegated Permissions:
        <ul>
          <li>“Read all groups”</li>
          <li>“Read all users’ full profiles”</li>
          <li>“Read all users basic profiles”</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Click the <strong>Select</strong> button and then <strong>Done</strong> to add the Microsoft Graph API permissions.
<a href="/images/directory-connector/azure/graph-permissions.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/azure/graph-permissions.png" />
     </a></li>
  <li>Click the <strong>Grant Permissions</strong> button to grant the permissions to the application.
<a href="/images/directory-connector/azure/grant-permissions.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/azure/grant-permissions.png" />
     </a></li>
</ol>

<h2 id="create-application-secret-key">Create Application Secret Key</h2>

<ol>
  <li>Go back to the <strong>Bitwarden</strong> application that you created.</li>
  <li>Select <strong>Certificates &amp; Keys</strong>.</li>
  <li>Add a new <strong>Password</strong> key by entering a <strong>Name</strong> and <strong>Duration</strong>. We recommend selecting “Never Expires” for the duration.</li>
  <li>Click <strong>Save</strong> to create a new secret key.</li>
  <li>Copy the key’s value to safe place. We will need to reference it later.
<a href="/images/directory-connector/azure/key.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/azure/key.png" />
     </a></li>
</ol>

<h2 id="get-your-application-id">Get Your Application ID</h2>

<ol>
  <li>Go back to the <strong>Bitwarden</strong> application that you created.</li>
  <li>Copy the <strong>Application (client) ID</strong> to a safe place.  We will need to reference it later.
<a href="/images/directory-connector/azure/application-id.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/azure/application-id.png" />
     </a></li>
</ol>

<h2 id="get-your-tenant-hostname">Get Your Tenant Hostname</h2>

<ol>
  <li>Select the <strong>Directory and Subscription</strong> filter in the top right corner of the Azure Portal.</li>
  <li>Note the <strong>Current directory</strong> (ex. acmeinc.onmicrosoft.com). This is your <strong>Tenant</strong> hostname. Copy the <strong>Tenant</strong> hostname to a safe place. We will need to reference it later.
<a href="/images/directory-connector/azure/tenant.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/azure/tenant.png" />
     </a></li>
</ol>

<h2 id="configure-directory-connector">Configure Directory Connector</h2>

<ol>
  <li>Launch the Directory Connector desktop application.</li>
  <li>Go to the <strong>Settings</strong> tab.</li>
  <li>Select <strong>Azure Active Directory</strong> as the directory type.</li>
  <li>Enter the <strong>Tenant</strong> hostname that you copied from the steps above (ex. company.onmicrosoft.com).</li>
  <li>Enter the <strong>Application ID</strong> that you copied from the steps above.</li>
  <li>Enter the Application <strong>Secret</strong> Key that you copied from the steps above.</li>
</ol>

<p>Congrats! You are done configuring Azure Active Directory with the Bitwarden Directory Connector.</p>

<h2 id="testing">Testing</h2>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>It can take up to 15 minutes for the granted permissions for your application to properly propagate. You may receive “Insufficient privileges to complete the operation” errors in the meantime.</p>

        </div>

<p>Test your configuration by running a sync test. You should see your Azure Active Directory groups and/or users printed to the screen.</p>

        </div>
        
        
    </div>
    <div class="row article-blocks">
        <div class="col-sm-6">
            <div class="panel panel-default panel-rate">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-thumbs-o-up"></i> Was this helpful?</h3>
                </div>
                <div class="panel-body">
                    <p>Rate this article:</p>
                    <div class="rw-ui-container"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="panel panel-default panel-contact">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-envelope-o"></i> Email Us</h3>
    </div>
    <div class="panel-body">
        <p>Want to talk to a human?</p>
        <a href="https://bitwarden.com/contact/" onclick="gaEvent('Talk To Human')">
            <i class="fa fa-long-arrow-right"></i>
            Send Us An Email
        </a>
    </div>
</div>
        </div>
    </div>
</div>

<script>
    (function (d, t, e, m) {
        // Async Rating-Widget initialization.
        window.RW_Async_Init = function () {
            RW.init({
                huid: "340409",
                uid: "1a448820f2de881574e56e07bffdd7e8",
                source: "website",
                options: {
                    "size": "medium",
                    "type": "nero",
                    "style": "thumbs",
                    "isDummy": false
                }
            });
            RW.render();
        };
        // Append Rating-Widget JavaScript library.
        var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
            l = d.location, ck = "Y" + t.getFullYear() +
                "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
            f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
            a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
        if (d.getElementById(id)) return;
        rw = d.createElement(e);
        rw.id = id; rw.async = true; rw.type = "text/javascript";
        rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
        s.parentNode.insertBefore(rw, s);
    }(document, new Date(), "script", "rating-widget.com/"));
</script>

    </content>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-sm-4 col-xs-6">
                    <h4>Links</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://bitwarden.com">Home</a></li>
                        <li><a href="https://bitwarden.com/#download">Download</a></li>
                        <li><a href="https://bitwarden.com/careers">Careers</a></li>
                        <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                        <li><a href="https://bitwarden.com/credits">Credits</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-6">
                    <h4 class="invisible">&nbsp;</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://blog.bitwarden.com" onclick="gaEvent('Footer Blog')">Blog</a></li>
                        <li>
                            <a href="https://community.bitwarden.com" target="_blank" rel="noopener"
                               onclick="gaEvent('Footer Forums')">
                                Community Forums
                            </a>
                        </li>
                        <li><a href="/">Help/Support</a></li>
                        <li><a href="https://bitwarden.com/terms">Terms of Service</a></li>
                        <li><a href="https://bitwarden.com/privacy">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-12 social">
                    <h4>Follow Us</h4>
                    <ul class="list-inline">
                        <li>
                            <a href="https://twitter.com/bitwarden" title="Twitter" onclick="gaEvent('Follow Twitter')"
                               target="_blank">
                                <i class="fa fa-twitter"></i><span class="sr-only">Twitter</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/bitwarden/" title="Facebook" onclick="gaEvent('Follow Facebook')"
                               target="_blank">
                                <i class="fa fa-facebook-square"></i><span class="sr-only">Facebook</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/bitwarden" title="GitHub" onclick="gaEvent('Follow GitHub')"
                               target="_blank">
                                <i class="fa fa-github"></i><span class="sr-only">GitHub</span>
                            </a>
                        </li>
                    </ul>
                    &copy; 2015 - 2020, <br class="visible-sm" />Bitwarden Inc.
                </div>
            </div>
        </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" crossorigin="anonymous"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo= sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh sha512-bnIvzh6FU75ZKxp0GXLH9bewza/OIw6dLVh9ICg0gogclmYGguQJWl8U30WpbsGTqbIiAwxTsbe76DErLq5EDQ=="></script>
    <script>(window.jQuery || document.write('<script src="lib\/jquery\/jquery.min.js?v=1586888317"><\/script>'));</script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" crossorigin="anonymous"
            integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4= sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd sha512-oBTprMeNEKCnqfuqKd6sbvFzmFQtlXS3e0C/RGFV0hD6QzhHV+ODfaQbAlmY6/q0ubbwlAM/nCJjkrgA3waLzg=="></script>
    <script>((window.jQuery && window.jQuery.fn && window.jQuery.fn.modal) || document.write('<script src="lib\/bootstrap\/js\/bootstrap.min.js?v=1586888317"><\/script>'));</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"
            crossorigin="anonymous" integrity="sha256-+nuEu243+6BveXk5N+Vbr268G+4FHjUOEcfKaBqfPbc= sha384-ugp/e34LtoER7mwf3SLygR0OL+STa4FTLzk7MRbpY/usE4VV+24hBxRXRS6g5ZJy sha512-JZSo0h5TONFYmyLMqp8k4oPhuo6yNk9mHM+FY50aBjpypfofqtEWsAgRDQm94ImLCzSaHeqNvYuD9382CEn2zw=="></script>
    <script src="/lib/fluidbox/js/jquery.fluidbox.min.js"></script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-81915606-10', 'auto');
        ga('send', 'pageview');

        function gaEvent(action) {
            ga('send', {
                hitType: 'event',
                eventCategory: 'main',
                eventAction: action
            });
        }

        $(function () {
            var lightboxOpen = false,
                lightboxSelector = 'a[rel="lightbox"]';

            $(lightboxSelector)
                .on('openstart.fluidbox', function () {
                    lightboxOpen = true;
                })
                .on('closestart.fluidbox', function () {
                    lightboxOpen = false;
                })
                .fluidbox();

            $(document).keydown(function (e) {
                if (lightboxOpen && e.keyCode === 27) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $(window).scroll(function () {
                if (lightboxOpen) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $('.article .panel-body > h2, .article .panel-body > h3').filter('[id]').each(function () {
                var header = $(this),
                    headerID = header.attr('id'),
                    anchorClass = 'header-link',
                    anchorIcon = '<i class="fa fa-link" aria-hidden="true"></i>';

                if (headerID) {
                    header.append($('<a />')
                        .addClass(anchorClass)
                        .attr({ 'href': '#' + headerID, 'aria-hidden': 'true', title: 'Permalink' })
                        .html(anchorIcon));
                }
                return this;
            });
        });
    </script>
</body>
</html>