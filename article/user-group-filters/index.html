<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ffffff">

    <title>Configuring user and group sync filters | Bitwarden Help &amp; Support</title>

    <link rel="stylesheet" crossorigin="anonymous"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0= sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,300italic,400italic,600italic"
          rel="stylesheet" type="text/css">

    <link href="/css/styles.css?v=1555533506"
          rel="stylesheet" type="text/css">

    <link href="/lib/fluidbox/css/fluidbox.min.css?v=1555533506"
          rel="stylesheet" type="text/css">

    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3c8dbc">
    <link rel="manifest" href="/manifest.json">
</head>

<body>
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://bitwarden.com" onclick="gaEvent('Nav Logo')">
                    <i class="fa fa-shield"></i>
                    <span class="visible-xs-inline"><strong>bit</strong>warden</span>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="menu">
                <ul class="nav navbar-nav">
                    <li><a href="/">Help Center</a></li>
                    <li><a href="https://community.bitwarden.com/">Forums</a></li>
                    <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="https://bitwarden.com" onclick="gaEvent('Return')">
                            <i class="fa fa-share fa-flip-horizontal fa-fw"></i> Return to bitwarden.com
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <header>
        <div class="container">
            <form action="/search/" method="get">
                <div class="input-group input-group-lg">
                    <input type="search" class="form-control" placeholder="Search the help center..."
                           id="search-box" name="q">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit" onclick="gaEvent('Search')">
                            <i class="fa fa-search"></i>
                            <span class="sr-only">Search</span>
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </header>

    <content>
        


<div class="container">
    <h1 class="page-header">
        <i class="fa fa-file-text-o"></i>
        Configuring user and group sync filters
    </h1>
    <div class="breadcrumb">
        Category:
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <a href="/organizations/">Organizations</a>
        
        
        
        
        
    </div>
    <div class="panel panel-default article">
        <div class="panel-body">
            <p>You can configure the Bitwarden Directory Connector application to use filters to limit the users and/or groups that are processed for syncing to your Bitwarden organization.</p>

<p>The syntax for filtering is different for each directory server type and is covered in detail below.</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#active-directory-and-other-ldap-directories">Active Directory and Other LDAP Directories</a></li>
  <li><a href="#azure-active-directory">Azure Active Directory</a></li>
  <li><a href="#g-suite">G Suite</a></li>
  <li><a href="#okta">Okta</a></li>
</ul>

<h2 id="active-directory-and-other-ldap-directories">Active Directory and Other LDAP Directories</h2>

<p>The group and user filters can be in the form of any LDAP compatible search filter. Additionally, Active Directory provides a few more advanced options as well as a few limitations when writing search filters as opposed to other more standard LDAP directories. You can read more about writing LDAP search filters here: <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa746475(v=vs.85).aspx">https://msdn.microsoft.com/en-us/library/windows/desktop/aa746475(v=vs.85).aspx</a></p>

<h3 id="examples">Examples</h3>

<p>Search for all entries that have objectClass=user AND cn that contains the word ‘Marketing’.</p>

<pre><code>(&amp;(objectClass=user)(cn=*Marketing*))
</code></pre>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>Active Directory does not implement extensible matching, the following examples won’t work with it.</p>

        </div>

<p>Find entries with an OU component of their DN which is either ‘Miami’ or ‘Orlando’.</p>

<pre><code>(|(ou:dn:=Miami)(ou:dn:=Orlando))
</code></pre>

<p>To exclude entities which match an expression, use ‘!’. Find all Chicago entries except those with a Wrigleyville OU component.</p>

<pre><code>(&amp;(ou:dn:=Chicago)(!(ou:dn:=Wrigleyville)))
</code></pre>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>The following examples are written for Active Directory. In order to use them for something such as OpenLDAP the attributes will need to be changed.</p>

        </div>

<p>Users in the ‘Heroes’ group</p>

<pre><code>(&amp;(objectCategory=Person)(sAMAccountName=*)(memberOf=cn=Heroes,ou=users,dc=company,dc=com))
</code></pre>

<p>Users that are a member of the ‘Heroes’ group, either directly or via nesting</p>

<pre><code>(&amp;(objectCategory=Person)(sAMAccountName=*)(memberOf:1.2.840.113556.1.4.1941:=cn=Heroes,ou=users,dc=company,dc=com))
</code></pre>

<h2 id="azure-active-directory">Azure Active Directory</h2>

<p>The Microsoft Graph API does not provide a way to filter groups and users directly, however, you can use our custom filtering syntax that allows you to exclude or include a comma separated list of group names, user emails, or users based on their group membership.</p>

<h3 id="examples-1">Examples</h3>

<h4 id="groups">Groups</h4>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>If you are filtering groups your user filter will only apply to users from the groups returned.</p>

        </div>

<pre><code>include:Group A,Sales People,My Other Group
</code></pre>

<pre><code>exclude:Group C,Developers,Some Other Group
</code></pre>

<h4 id="users">Users</h4>

<p>You can include/exclude users directly by using <code>include</code> or <code>exclude</code> keywords like below:</p>

<pre><code>include:joe@company.com,bill@company.com,tom@company.com
</code></pre>

<pre><code>exclude:joe@company.com
</code></pre>

<p>Alternatively, you can filter users based on their Azure AD group membership by using <code>includeGroup</code> or <code>excludeGroup</code> keywords. You must obtain the Azure AD group ID and include it with the keyword. You can get the group’s ID in the <a href="https://portal.azure.com">Azure Portal</a> or through <a href="https://docs.microsoft.com/en-us/powershell/module/azuread/get-azureadgroup?view=azureadps-2.0">Azure AD PowerShell</a>.</p>

<pre><code>includeGroup:97b9ff2a-7d4f-463d-a925-efb1677fd40d,b389c339-8c13-4c1a-8ac1-4fde56d9f70f
</code></pre>

<pre><code>excludeGroup:97b9ff2a-7d4f-463d-a925-efb1677fd40d
</code></pre>

<h2 id="g-suite">G Suite</h2>

<h3 id="groups-1">Groups</h3>

<p>The G Suite APIs do not provide a way to filter groups directly, however, you can use our custom filtering syntax that allows you to exclude or include a comma separated list of group names.</p>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>If you are filtering groups your user filter will only apply to users from the groups returned.</p>

        </div>

<h4 id="examples-2">Examples</h4>

<pre><code>include:Group A,Sales People,My Other Group
</code></pre>

<pre><code>exclude:Group C,Developers,Some Other Group
</code></pre>

<h3 id="users-1">Users</h3>

<p>We provide the same custom filtering syntax that allows you to exclude or include a comma separated list of user emails.</p>

<p>Additionally, the G Suite APIs provide limited filtering capabilities for users that are exposed to you. Read more about filtering with the <code>query</code> parameter here: <a href="https://developers.google.com/admin-sdk/directory/v1/guides/search-users">https://developers.google.com/admin-sdk/directory/v1/guides/search-users</a></p>

<p>You can combine both of these filtering options by concatenating the two strings with a pipe (<code>|</code>);</p>

<h4 id="examples-3">Examples</h4>

<p>Only the include/exclude filter:</p>

<pre><code>include:joe@company.com,bill@company.com,tom@company.com
</code></pre>

<p>An include/exclude filter + a G Suite <code>query</code> search:</p>

<pre><code>exclude:john@company.com,bill@company.com|orgName=Engineering orgTitle:Manager
</code></pre>

<p>Only the G Suite <code>query</code> search (notice the <code>|</code> prefix that is required):</p>

<pre><code>|orgName=Engineering orgTitle:Manager
</code></pre>

<h2 id="okta">Okta</h2>

<p>We provide a custom filtering syntax that allows you to exclude or include a comma separated list of group names or user emails.</p>

<p>Additionally, the Okta APIs provide limited filtering capabilities for users and groups. Read more about filtering with the <code>filter</code> parameter here: <a href="https://developer.okta.com/docs/api/resources/groups#filters">https://developer.okta.com/docs/api/resources/groups#filters</a> and <a href="https://developer.okta.com/docs/api/resources/users#list-users-with-a-filter">https://developer.okta.com/docs/api/resources/users#list-users-with-a-filter</a></p>

<p>You can combine both of these filtering options by concatenating the two strings with a pipe (<code>|</code>);</p>

<h3 id="examples-4">Examples</h3>

<h4 id="groups-2">Groups</h4>

<p>Only the include/exclude filter:</p>

<pre><code>include:Group A,Group B
</code></pre>

<p>An include/exclude filter + an Okta <code>filter</code>:</p>

<pre><code>exclude:Group A|type eq "APP_GROUP"
</code></pre>

<p>Only the Okta <code>filter</code> search (notice the <code>|</code> prefix that is required):</p>

<pre><code>|type eq "BUILT_IN"
</code></pre>

<h4 id="users-2">Users</h4>

<p>Only the include/exclude filter:</p>

<pre><code>include:joe@company.com,bill@company.com,tom@company.com
</code></pre>

<p>An include/exclude filter + an Okta <code>filter</code>:</p>

<pre><code>exclude:john@company.com,bill@company.com|profile.firstName eq "John"
</code></pre>

<p>Only the Okta <code>filter</code> search (notice the <code>|</code> prefix that is required):</p>

<pre><code>|profile.lastName eq "Smith"
</code></pre>

        </div>
        
        
    </div>
    <div class="row article-blocks">
        <div class="col-sm-6">
            <div class="panel panel-default panel-rate">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-thumbs-o-up"></i> Was this helpful?</h3>
                </div>
                <div class="panel-body">
                    <p>Rate this article:</p>
                    <div class="rw-ui-container"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="panel panel-default panel-contact">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-envelope-o"></i> Email Us</h3>
    </div>
    <div class="panel-body">
        <p>Want to talk to a human?</p>
        <a href="https://bitwarden.com/contact/" onclick="gaEvent('Talk To Human')">
            <i class="fa fa-long-arrow-right"></i>
            Send Us An Email
        </a>
    </div>
</div>
        </div>
    </div>
</div>

<script>
    (function (d, t, e, m) {
        // Async Rating-Widget initialization.
        window.RW_Async_Init = function () {
            RW.init({
                huid: "340409",
                uid: "1a448820f2de881574e56e07bffdd7e8",
                source: "website",
                options: {
                    "size": "medium",
                    "type": "nero",
                    "style": "thumbs",
                    "isDummy": false
                }
            });
            RW.render();
        };
        // Append Rating-Widget JavaScript library.
        var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
            l = d.location, ck = "Y" + t.getFullYear() +
                "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
            f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
            a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
        if (d.getElementById(id)) return;
        rw = d.createElement(e);
        rw.id = id; rw.async = true; rw.type = "text/javascript";
        rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
        s.parentNode.insertBefore(rw, s);
    }(document, new Date(), "script", "rating-widget.com/"));
</script>

    </content>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-sm-4 col-xs-6">
                    <h4>Links</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://bitwarden.com">Home</a></li>
                        <li><a href="https://bitwarden.com/#download">Download</a></li>
                        <li><a href="https://bitwarden.com/#organizations">Business</a></li>
                        <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                        <li><a href="https://bitwarden.com/credits">Credits</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-6">
                    <h4 class="invisible">&nbsp;</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://blog.bitwarden.com" onclick="gaEvent('Footer Blog')">Blog</a></li>
                        <li>
                            <a href="https://community.bitwarden.com" target="_blank" rel="noopener"
                               onclick="gaEvent('Footer Forums')">
                                Community Forums
                            </a>
                        </li>
                        <li><a href="/">Help/Support</a></li>
                        <li><a href="https://bitwarden.com/terms">Terms of Service</a></li>
                        <li><a href="https://bitwarden.com/privacy">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-12 social">
                    <h4>Follow Us</h4>
                    <ul class="list-inline">
                        <li>
                            <a href="https://twitter.com/bitwarden" title="Twitter" onclick="gaEvent('Follow Twitter')"
                               target="_blank">
                                <i class="fa fa-twitter"></i><span class="sr-only">Twitter</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/bitwarden/" title="Facebook" onclick="gaEvent('Follow Facebook')"
                               target="_blank">
                                <i class="fa fa-facebook-square"></i><span class="sr-only">Facebook</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/bitwarden" title="GitHub" onclick="gaEvent('Follow GitHub')"
                               target="_blank">
                                <i class="fa fa-github"></i><span class="sr-only">GitHub</span>
                            </a>
                        </li>
                    </ul>
                    &copy; 2015 - 2019, <br class="visible-sm" />8bit Solutions LLC
                </div>
            </div>
        </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" crossorigin="anonymous"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8= sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg=="></script>
    <script>(window.jQuery || document.write('<script src="lib\/jquery\/jquery.min.js?v=1555533506"><\/script>'));</script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"
            integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8= sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ=="></script>
    <script>((window.jQuery && window.jQuery.fn && window.jQuery.fn.modal) || document.write('<script src="lib\/bootstrap\/js\/bootstrap.min.js?v=1555533506"><\/script>'));</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"
            crossorigin="anonymous" integrity="sha256-+nuEu243+6BveXk5N+Vbr268G+4FHjUOEcfKaBqfPbc= sha384-ugp/e34LtoER7mwf3SLygR0OL+STa4FTLzk7MRbpY/usE4VV+24hBxRXRS6g5ZJy sha512-JZSo0h5TONFYmyLMqp8k4oPhuo6yNk9mHM+FY50aBjpypfofqtEWsAgRDQm94ImLCzSaHeqNvYuD9382CEn2zw=="></script>
    <script src="/lib/fluidbox/js/jquery.fluidbox.min.js"></script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-81915606-10', 'auto');
        ga('send', 'pageview');

        function gaEvent(action) {
            ga('send', {
                hitType: 'event',
                eventCategory: 'main',
                eventAction: action
            });
        }

        $(function () {
            var lightboxOpen = false,
                lightboxSelector = 'a[rel="lightbox"]';

            $(lightboxSelector)
                .on('openstart.fluidbox', function () {
                    lightboxOpen = true;
                })
                .on('closestart.fluidbox', function () {
                    lightboxOpen = false;
                })
                .fluidbox();

            $(document).keydown(function (e) {
                if (lightboxOpen && e.keyCode === 27) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $(window).scroll(function () {
                if (lightboxOpen) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $('.article .panel-body > h2, .article .panel-body > h3').filter('[id]').each(function () {
                var header = $(this),
                    headerID = header.attr('id'),
                    anchorClass = 'header-link',
                    anchorIcon = '<i class="fa fa-link" aria-hidden="true"></i>';

                if (headerID) {
                    header.append($('<a />')
                        .addClass(anchorClass)
                        .attr({ 'href': '#' + headerID, 'aria-hidden': 'true', title: 'Permalink' })
                        .html(anchorIcon));
                }
                return this;
            });
        });
    </script>
</body>
</html>