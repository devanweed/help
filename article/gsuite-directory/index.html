<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#ffffff">

    <title>Configuring directory sync with G Suite (Google) | Bitwarden Help &amp; Support</title>

    <link rel="stylesheet" crossorigin="anonymous"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
          integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0= sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,300italic,400italic,600italic"
          rel="stylesheet" type="text/css">

    <link href="/css/styles.css?v=1553570084"
          rel="stylesheet" type="text/css">

    <link href="/lib/fluidbox/css/fluidbox.min.css?v=1553570084"
          rel="stylesheet" type="text/css">

    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3c8dbc">
    <link rel="manifest" href="/manifest.json">
</head>

<body>
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://bitwarden.com" onclick="gaEvent('Nav Logo')">
                    <i class="fa fa-shield"></i>
                    <span class="visible-xs-inline"><strong>bit</strong>warden</span>
                </a>
            </div>
            <div class="collapse navbar-collapse" id="menu">
                <ul class="nav navbar-nav">
                    <li><a href="/">Help Center</a></li>
                    <li><a href="https://community.bitwarden.com/">Forums</a></li>
                    <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="https://bitwarden.com" onclick="gaEvent('Return')">
                            <i class="fa fa-share fa-flip-horizontal fa-fw"></i> Return to bitwarden.com
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <header>
        <div class="container">
            <form action="/search/" method="get">
                <div class="input-group input-group-lg">
                    <input type="search" class="form-control" placeholder="Search the help center..."
                           id="search-box" name="q">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit" onclick="gaEvent('Search')">
                            <i class="fa fa-search"></i>
                            <span class="sr-only">Search</span>
                        </button>
                    </span>
                </div>
            </form>
        </div>
    </header>

    <content>
        


<div class="container">
    <h1 class="page-header">
        <i class="fa fa-file-text-o"></i>
        Configuring directory sync with G Suite (Google)
    </h1>
    <div class="breadcrumb">
        Category:
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <a href="/organizations/">Organizations</a>
        
        
        
        
        
    </div>
    <div class="panel panel-default article">
        <div class="panel-body">
            <p>This article will cover how to connect the Bitwarden Directory Connector application to your G Suite directory.</p>

<h2 id="requirements">Requirements</h2>

<ul>
  <li>Read through the following article: <a href="/article/directory-sync/">Syncing users and groups with a directory</a></li>
  <li>Install Bitwarden Directory Connector</li>
  <li>Using Directory Connector, log into your Bitwarden account and select your enterprise organization</li>
</ul>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#create-a-google-cloud-project">Create a Google Cloud Project</a></li>
  <li><a href="#enable-the-admin-sdk-api-for-your-project">Enable the Admin SDK API for Your Project</a></li>
  <li><a href="#create--configure-a-service-account">Create &amp; Configure a Service Account</a></li>
  <li><a href="#configure-g-suite-security">Configure G Suite Security</a></li>
  <li><a href="#configure-directory-connector">Configure Directory Connector</a></li>
  <li><a href="#testing">Testing</a></li>
</ul>

<h2 id="create-a-google-cloud-project">Create a Google Cloud Project</h2>

<div class="callout callout-info">
            <h3><i class="fa fa-info-circle"></i> Note</h3>
            
<p>If you already have a Google Cloud project available, you can skip this step and re-use it here.</p>

        </div>

<ol>
  <li>Go to <a href="https://console.cloud.google.com/home">https://console.cloud.google.com/home</a></li>
  <li>Click the <strong>Create</strong> project button
<a href="/images/directory-connector/gsuite/create-project.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/create-project.png" />
     </a></li>
  <li>Enter a project name and click <strong>Create</strong>
<a href="/images/directory-connector/gsuite/new-project.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/new-project.png" />
     </a></li>
  <li>Refresh the page and you should now see your project</li>
</ol>

<h2 id="enable-the-admin-sdk-api-for-your-project">Enable the Admin SDK API for Your Project</h2>

<ol>
  <li>Go to <a href="https://console.cloud.google.com">https://console.cloud.google.com</a>.</li>
  <li>Make sure the appropriate project is selected. You should be on the <strong>Dashboard</strong> page for your project.</li>
  <li>Open the navigation menu and navigate to <strong>APIs &amp; Services</strong> → <strong>Library</strong>.</li>
  <li>Search for and select the <strong>Admin SDK</strong> service.
<a href="/images/directory-connector/gsuite/admin-sdk.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/admin-sdk.png" />
     </a></li>
  <li>Click the <strong>Enable</strong> button near the top.
<a href="/images/directory-connector/gsuite/admin-sdk-enable.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/admin-sdk-enable.png" />
     </a></li>
</ol>

<h2 id="create--configure-a-service-account">Create &amp; Configure a Service Account</h2>

<ol>
  <li>Go to <a href="https://console.cloud.google.com">https://console.cloud.google.com</a></li>
  <li>Make sure the appropriate project is selected. You should be on the <strong>Dashboard</strong> page for your project.</li>
  <li>Open the navigation menu and navigate to <strong>APIs &amp; Services</strong> → <strong>Credentials</strong>.</li>
  <li>Click the <strong>Create credentials</strong> button and select <strong>Service account key</strong>.
<a href="/images/directory-connector/gsuite/create-credentials.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/create-credentials.png" />
     </a></li>
  <li>Select <strong>New service account</strong> from the <strong>Service account</strong> dropdown menu.</li>
  <li>Name the service account <strong>Bitwarden Directory Connector</strong>. For the role, select <strong>Project</strong> and then <strong>Owner</strong>. Ensure that <strong>JSON</strong> is the selected <strong>Key type</strong>. Upon clicking <strong>Create</strong>, a JSON file will be downloaded; this is important for later so keep a note of where you have downloaded it.
<a href="/images/directory-connector/gsuite/create-service-account.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/create-service-account.png" />
     </a></li>
  <li>You should now see your newly created service account listed. Click on <strong>Manage service accounts</strong> (on the right-hand side).
<a href="/images/directory-connector/gsuite/click-manage-service-accounts.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/click-manage-service-accounts.png" />
     </a></li>
  <li>Select the options button next to your service account, and select <strong>Edit</strong>.
<a href="/images/directory-connector/gsuite/edit-service-account.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/edit-service-account.png" />
     </a></li>
  <li>Check the box “Enable G Suite Domain-wide Delegation”, enter anything for “Product name for the consent screen” and click <strong>Save</strong>.
<a href="/images/directory-connector/gsuite/tick-gsuite.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/tick-gsuite.png" />
     </a></li>
  <li>Click <strong>View Client ID</strong> and you’ll see the Client ID on screen. You will need the Client ID to configure security within G Suite. Highlight the Client ID and copy it to your clipboard.
   <a href="/images/directory-connector/gsuite/view-client-id.png" target="_blank" rel="lightbox">
        <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/view-client-id.png" />
    </a>
   <a href="/images/directory-connector/gsuite/copy-client-id.png" target="_blank" rel="lightbox">
        <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/copy-client-id.png" />
    </a></li>
</ol>

<h2 id="configure-g-suite-security">Configure G Suite Security</h2>

<ol>
  <li>Go to <a href="https://admin.google.com">https://admin.google.com</a></li>
  <li>Open the navigation menu and navigate to <strong>Security</strong> → <strong>Settings</strong>.</li>
  <li>Select the <strong>API reference</strong> option and make sure <strong>Enable API access</strong> is checked.
<a href="/images/directory-connector/gsuite/enable-api-access.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/enable-api-access.png" />
     </a></li>
  <li>Back in the list of options, select the <strong>Advanced settings</strong> options and then the <strong>Manage API client access</strong> link.
<a href="/images/directory-connector/gsuite/manage-api-access.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/manage-api-access.png" />
     </a></li>
  <li>For <strong>Client Name</strong>, paste the <strong>Client ID</strong> of the service account that you created in the previous steps. For <strong>API Scopes</strong>, paste the following values to grant read-only access to users and groups:
    <pre>https://www.googleapis.com/auth/admin.directory.user.readonly,https://www.googleapis.com/auth/admin.directory.group.readonly,https://www.googleapis.com/auth/admin.directory.group.member.readonly</pre>
  </li>
  <li>Click the <strong>Authorize</strong> button to save.
<a href="/images/directory-connector/gsuite/authorize-client.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/authorize-client.png" />
     </a></li>
  <li>You should now see your service account listed as an authorized client of G Suite.
<a href="/images/directory-connector/gsuite/authorized-client-list.png" target="_blank" rel="lightbox">
         <img class="img-responsive img-thumbnail img-tag" src="/images/directory-connector/gsuite/authorized-client-list.png" />
     </a></li>
</ol>

<h2 id="configure-directory-connector">Configure Directory Connector</h2>

<ol>
  <li>Launch the Directory Connector desktop application.</li>
  <li>Go to the <strong>Settings</strong> tab.</li>
  <li>Select <strong>G Suite Directory</strong> as the directory type.</li>
  <li>Enter the <strong>Domain</strong> of your G Suite account.</li>
  <li>Enter the email address of an <strong>Admin User</strong> that has full access to the G Suite directory (such as your own).</li>
  <li>If you have one, enter the <strong>Customer Id</strong> of your directory (most users won’t need to enter a Customer Id).</li>
  <li>Select the <strong>JSON Key File</strong> that was downloaded whenever you created your service account in the steps above. The <strong>Client Email</strong> and <strong>Private Key</strong> will be automatically extracted from this key file for you.</li>
</ol>

<p>Congrats! You are done configuring G Suite with the Bitwarden Directory Connector.</p>

<h2 id="testing">Testing</h2>

<p>Test your configuration by running a sync test. You should see your G Suite groups and/or users printed to the screen.</p>

        </div>
        
        
    </div>
    <div class="row article-blocks">
        <div class="col-sm-6">
            <div class="panel panel-default panel-rate">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-thumbs-o-up"></i> Was this helpful?</h3>
                </div>
                <div class="panel-body">
                    <p>Rate this article:</p>
                    <div class="rw-ui-container"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="panel panel-default panel-contact">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="fa fa-envelope-o"></i> Email Us</h3>
    </div>
    <div class="panel-body">
        <p>Want to talk to a human?</p>
        <a href="https://bitwarden.com/contact/" onclick="gaEvent('Talk To Human')">
            <i class="fa fa-long-arrow-right"></i>
            Send Us An Email
        </a>
    </div>
</div>
        </div>
    </div>
</div>

<script>
    (function (d, t, e, m) {
        // Async Rating-Widget initialization.
        window.RW_Async_Init = function () {
            RW.init({
                huid: "340409",
                uid: "1a448820f2de881574e56e07bffdd7e8",
                source: "website",
                options: {
                    "size": "medium",
                    "type": "nero",
                    "style": "thumbs",
                    "isDummy": false
                }
            });
            RW.render();
        };
        // Append Rating-Widget JavaScript library.
        var rw, s = d.getElementsByTagName(e)[0], id = "rw-js",
            l = d.location, ck = "Y" + t.getFullYear() +
                "M" + t.getMonth() + "D" + t.getDate(), p = l.protocol,
            f = ((l.search.indexOf("DBG=") > -1) ? "" : ".min"),
            a = ("https:" == p ? "secure." + m + "js/" : "js." + m);
        if (d.getElementById(id)) return;
        rw = d.createElement(e);
        rw.id = id; rw.async = true; rw.type = "text/javascript";
        rw.src = p + "//" + a + "external" + f + ".js?ck=" + ck;
        s.parentNode.insertBefore(rw, s);
    }(document, new Date(), "script", "rating-widget.com/"));
</script>

    </content>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-sm-4 col-xs-6">
                    <h4>Links</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://bitwarden.com">Home</a></li>
                        <li><a href="https://bitwarden.com/#download">Download</a></li>
                        <li><a href="https://bitwarden.com/#organizations">Business</a></li>
                        <li><a href="https://bitwarden.com/contact">Contact Us</a></li>
                        <li><a href="https://bitwarden.com/credits">Credits</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-6">
                    <h4 class="invisible">&nbsp;</h4>
                    <ul class="list-unstyled">
                        <li><a href="https://blog.bitwarden.com" onclick="gaEvent('Footer Blog')">Blog</a></li>
                        <li>
                            <a href="https://community.bitwarden.com" target="_blank" rel="noopener"
                               onclick="gaEvent('Footer Forums')">
                                Community Forums
                            </a>
                        </li>
                        <li><a href="/">Help/Support</a></li>
                        <li><a href="https://bitwarden.com/terms">Terms of Service</a></li>
                        <li><a href="https://bitwarden.com/privacy">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-xs-12 social">
                    <h4>Follow Us</h4>
                    <ul class="list-inline">
                        <li>
                            <a href="https://twitter.com/bitwarden" title="Twitter" onclick="gaEvent('Follow Twitter')"
                               target="_blank">
                                <i class="fa fa-twitter"></i><span class="sr-only">Twitter</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/bitwarden/" title="Facebook" onclick="gaEvent('Follow Facebook')"
                               target="_blank">
                                <i class="fa fa-facebook-square"></i><span class="sr-only">Facebook</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/bitwarden" title="GitHub" onclick="gaEvent('Follow GitHub')"
                               target="_blank">
                                <i class="fa fa-github"></i><span class="sr-only">GitHub</span>
                            </a>
                        </li>
                    </ul>
                    &copy; 2015 - 2019, <br class="visible-sm" />8bit Solutions LLC
                </div>
            </div>
        </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" crossorigin="anonymous"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8= sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg=="></script>
    <script>(window.jQuery || document.write('<script src="lib\/jquery\/jquery.min.js?v=1553570084"><\/script>'));</script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" crossorigin="anonymous"
            integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8= sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ=="></script>
    <script>((window.jQuery && window.jQuery.fn && window.jQuery.fn.modal) || document.write('<script src="lib\/bootstrap\/js\/bootstrap.min.js?v=1553570084"><\/script>'));</script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"
            crossorigin="anonymous" integrity="sha256-+nuEu243+6BveXk5N+Vbr268G+4FHjUOEcfKaBqfPbc= sha384-ugp/e34LtoER7mwf3SLygR0OL+STa4FTLzk7MRbpY/usE4VV+24hBxRXRS6g5ZJy sha512-JZSo0h5TONFYmyLMqp8k4oPhuo6yNk9mHM+FY50aBjpypfofqtEWsAgRDQm94ImLCzSaHeqNvYuD9382CEn2zw=="></script>
    <script src="/lib/fluidbox/js/jquery.fluidbox.min.js"></script>

    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-81915606-10', 'auto');
        ga('send', 'pageview');

        function gaEvent(action) {
            ga('send', {
                hitType: 'event',
                eventCategory: 'main',
                eventAction: action
            });
        }

        $(function () {
            var lightboxOpen = false,
                lightboxSelector = 'a[rel="lightbox"]';

            $(lightboxSelector)
                .on('openstart.fluidbox', function () {
                    lightboxOpen = true;
                })
                .on('closestart.fluidbox', function () {
                    lightboxOpen = false;
                })
                .fluidbox();

            $(document).keydown(function (e) {
                if (lightboxOpen && e.keyCode === 27) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $(window).scroll(function () {
                if (lightboxOpen) {
                    $(lightboxSelector).trigger('close.fluidbox');
                }
            });

            $('.article .panel-body > h2, .article .panel-body > h3').filter('[id]').each(function () {
                var header = $(this),
                    headerID = header.attr('id'),
                    anchorClass = 'header-link',
                    anchorIcon = '<i class="fa fa-link" aria-hidden="true"></i>';

                if (headerID) {
                    header.append($('<a />')
                        .addClass(anchorClass)
                        .attr({ 'href': '#' + headerID, 'aria-hidden': 'true', title: 'Permalink' })
                        .html(anchorIcon));
                }
                return this;
            });
        });
    </script>
</body>
</html>